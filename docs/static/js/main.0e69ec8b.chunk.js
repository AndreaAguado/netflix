(this["webpackJsonpreact-starter-kit"]=this["webpackJsonpreact-starter-kit"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(16),c=n.n(i),r=n(8),s=n(7),l=(n(24),n(25),n.p+"static/media/tmdb_icon.de1a664e.svg"),o=n(0),d=function(){return Object(o.jsxs)("footer",{className:"footer",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("nav",{className:"footer_nav",children:Object(o.jsxs)("ul",{className:"footer_links_list",children:[Object(o.jsx)("li",{children:Object(o.jsx)("a",{className:"footer_link",href:"https://twitter.com/andrea114am",target:"_blank",rel:"noreferrer",title:"twitter.com/andrea114am",children:Object(o.jsx)("i",{className:"fab fa-twitter"})})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{className:"footer_link",href:"https://www.linkedin.com/in/andrea-aguado-moleon/",target:"_blank",rel:"noreferrer",title:"linkedin.com/in/andrea-aguado-mole\xf3n/",children:Object(o.jsx)("i",{className:"fab fa-linkedin-in"})})}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{className:"footer_link",href:"https://github.com/AndreaAguado",target:"_blank",rel:"noreferrer",title:"github.com/AndreaAguado",children:Object(o.jsx)("i",{className:"fab fa-github"})})})]})}),Object(o.jsxs)("small",{className:"footer_small",children:["Hecho con ",Object(o.jsx)("span",{role:"img","aria-label":"emoji coraz\xf3n",title:"emoji coraz\xf3n",children:"\u2764\ufe0f"})," \xa9 Andrea Aguado 2021"]})]}),Object(o.jsx)("div",{className:"footer_credit_container",children:Object(o.jsx)("a",{className:"footer_credit_link",href:"https://www.themoviedb.org/",target:"_blank",rel:"noreferrer",title:"https://www.themoviedb.org/",children:Object(o.jsx)("img",{className:"footer_credit_img",src:l,alt:"The Movie Database Logo"})})})]})},u=(n(27),n.p+"static/media/Logo-Netflix.a3092e10.png"),h=function(e){return Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)(r.b,{to:"/",className:"header_link",title:"Go to homepage",children:Object(o.jsx)("img",{className:"header_logo",src:u,alt:"Logo Netflix"})}),Object(o.jsx)("nav",{className:"header_nav",children:Object(o.jsxs)("ul",{className:"header_nav_list",children:[Object(o.jsx)("li",{className:"list_item",children:Object(o.jsx)(r.b,{className:"header_nav_link",onClick:function(){e.handleAllMediaLink()},to:"/",children:"All"})}),Object(o.jsx)("li",{className:"list_item",children:Object(o.jsx)(r.b,{className:"header_nav_link",onClick:function(){e.handleMoviesLink()},to:"/movies",children:"Movies"})}),Object(o.jsx)("li",{className:"list_item",children:Object(o.jsx)(r.b,{className:"header_nav_link",onClick:function(){e.handleTVshowsLink()},to:"/TVshows",children:"TV Shows"})})]})})]})},j=(n(33),n(34),function(e){return Object(o.jsx)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},action:"POST",children:Object(o.jsx)("input",{autoFocus:!0,onKeyUp:function(t){e.handleSearch(t.target.value)},className:"text_input",type:"text",placeholder:"TV show / movie title"})})}),b=(n(35),function(e){return Object(o.jsxs)("div",{className:"lds-default ".concat(function(){if(e.loading){return""}return"hidden"}()),children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})}),m=(n(36),function(e){return Object(o.jsxs)("nav",{className:"pages_nav_bar",children:[Object(o.jsxs)("button",{className:1===e.pageNum?"hidden":"pages_nav_bar_button",onClick:e.handlePrevPage,children:[Object(o.jsx)("i",{className:"fas fa-angle-left"})," Previous"]}),Object(o.jsxs)("p",{className:"pages_nav_bar_index",children:["Page",Object(o.jsx)("input",{onChange:function(t){t.target.value>e.totalPages?e.handlePageInput(e.totalPages):e.handlePageInput(parseInt(t.target.value))},className:"input_page_number",type:"number",max:e.totalPages,min:"1",name:"inputPage",id:"inputPage",placeholder:"Ej. 2",value:e.pageNum}),"of ",e.totalPages]}),Object(o.jsxs)("button",{className:e.pageNum===e.numberOfPages?"hidden":"pages_nav_bar_button",onClick:e.handleNextPage,children:["Next ",Object(o.jsx)("i",{className:"fas fa-angle-right"})]})]})});m.defaultProps={pageNum:1};var g=m,f=function(e){return Object(o.jsxs)("main",{className:"main",children:[Object(o.jsx)(j,{handleSearch:e.handleSearch}),Object(o.jsx)(g,{pageNum:e.pageNum,totalPages:e.totalPages,handlePrevPage:e.handlePrevPage,handleNextPage:e.handleNextPage,handlePageInput:e.handlePageInput}),Object(o.jsx)(b,{loading:e.loading}),Object(o.jsx)("ul",{className:"media_list",children:e.renderMedia()}),Object(o.jsx)(g,{pageNum:e.pageNum,totalPages:e.totalPages,handlePrevPage:e.handlePrevPage,handleNextPage:e.handleNextPage,handlePageInput:e.handlePageInput})]})},O=n(2),p={getConfiguration:function(){return fetch("https://api.themoviedb.org/3/configuration?api_key=4e51e4a6310fb8de7132d513c50b9a9a").then((function(e){return e.json()})).then((function(e){return e.images.secure_base_url+e.images.backdrop_sizes[3]}))},getNumberOfPages:function(){return fetch("https://api.themoviedb.org/3/trending/all/day?api_key=4e51e4a6310fb8de7132d513c50b9a9a").then((function(e){return e.json()})).then((function(e){return e.total_pages}))},getTrendingMedia:function(e){return fetch("https://api.themoviedb.org/3/trending/all/day?api_key=4e51e4a6310fb8de7132d513c50b9a9a&page=".concat(e)).then((function(e){return e.json()})).then((function(e){return console.log(e),e.results.map((function(e){return{id:e.id,imagePath:e.poster_path,titleMovie:e.title,originalTitleMovie:e.original_title,titleShow:e.name,originalTitleShow:e.original_name,mediaType:e.media_type,genre:e.genre_ids,banner:e.backdrop_path,overview:e.overview}}))}))},getMovieGenres:function(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=4e51e4a6310fb8de7132d513c50b9a9a&language=en-US").then((function(e){return e.json()})).then((function(e){return e.genres.map((function(e){return{id:e.id,name:e.name}}))}))},getShowGenres:function(){return fetch("https://api.themoviedb.org/3/genre/tv/list?api_key=4e51e4a6310fb8de7132d513c50b9a9a&language=en-US").then((function(e){return e.json()})).then((function(e){return e.genres.map((function(e){return{id:e.id,name:e.name}}))}))},filterMovieByGenre:function(e){return fetch("https://api.themoviedb.org/3/discover/movie?api_key=4e51e4a6310fb8de7132d513c50b9a9a&sort_by=popularity.desc&page=1&with_genres=".concat(e)).then((function(e){return e.json()})).then((function(e){return console.log(e),e.results.map((function(e){return{id:e.id,imagePath:e.poster_path,titleMovie:e.title,originalTitleMovie:e.original_title,titleShow:e.name,originalTitleShow:e.original_name,mediaType:e.media_type,genre:e.genre_ids,banner:e.backdrop_path,overview:e.overview}}))}))},filterShowByGenre:function(e){return fetch("https://api.themoviedb.org/3/discover/tv?api_key=4e51e4a6310fb8de7132d513c50b9a9a&sort_by=popularity.desc&page=1&with_genres=".concat(e)).then((function(e){return e.json()})).then((function(e){return console.log(e),e.results.map((function(e){return{id:e.id,imagePath:e.poster_path,titleMovie:e.title,originalTitleMovie:e.original_title,titleShow:e.name,originalTitleShow:e.original_name,mediaType:e.media_type,genre:e.genre_ids,banner:e.backdrop_path,overview:e.overview}}))}))}},v=n(19),x=(n(37),function(e){return Object(o.jsxs)("section",{className:"media_details_section",children:[Object(o.jsx)("div",{className:"return_link_container",children:Object(o.jsxs)(r.b,{className:"return_link",to:"movies"===e.selectedMedia?"/movies":"shows"===e.selectedMedia?"/TVshows":"/",children:[Object(o.jsx)("i",{className:"return_link_icon fas fa-chevron-circle-left"}),Object(o.jsx)("p",{className:"return_link_title",children:"Return"})]})}),Object(o.jsx)("img",{className:"media_details_img",src:e.media.banner?e.imagePath+e.media.banner:"https://via.placeholder.com/732x411/ff3b3b/000000/?text=TV",alt:"img"}),Object(o.jsxs)("div",{className:"media_details_info",children:[Object(o.jsx)("h3",{className:"media_details_title",children:e.media.titleMovie?e.media.titleMovie:e.media.titleShow}),Object(o.jsx)("p",{className:"media_details_overview",children:e.media.overview}),Object(o.jsxs)("p",{className:"media_details_genres",children:["Genres: ",function(){if(e.media.genre){var t,n=e.whatGenre(e.media.genre),a="\xb7 ",i=Object(v.a)(n);try{for(i.s();!(t=i.n()).done;){var c=t.value;a+="".concat(c," \xb7 ")}}catch(r){i.e(r)}finally{i.f()}return a}return""}()]})]})]})}),_=(n(38),function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("ul",{className:"genres_list",children:e.renderGenres(e.selectedMedia)})})}),N=(n(39),function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("label",{className:"filter_label",htmlFor:e.genre.id,children:[Object(o.jsx)("input",{onChange:function(t){console.log(t.target.value),e.handleGenresFilter(t.target.value,e.selectedMedia)},id:e.genre.id,type:"radio",value:e.genre.id,name:"genre_ids"}),e.genre.name]})})}),w=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)([]),l=Object(s.a)(c,2),u=l[0],j=l[1],b=Object(a.useState)([]),m=Object(s.a)(b,2),g=m[0],v=m[1],w=Object(a.useState)([]),P=Object(s.a)(w,2),k=P[0],M=P[1],S=Object(a.useState)(""),y=Object(s.a)(S,2),T=y[0],L=y[1],G=Object(a.useState)(!0),C=Object(s.a)(G,2),I=C[0],F=C[1],A=Object(a.useState)(0),E=Object(s.a)(A,2),V=E[0],B=E[1],z=Object(a.useState)(1),U=Object(s.a)(z,2),D=U[0],J=U[1],H=Object(a.useState)(null),K=Object(s.a)(H,2),R=K[0],q=K[1],Q=Object(a.useState)(null),W=Object(s.a)(Q,2),X=W[0],Y=W[1],Z=Object(a.useState)(""),$=Object(s.a)(Z,2),ee=$[0],te=$[1];Object(a.useEffect)((function(){p.getConfiguration().then((function(e){i(e)}))}),[]),Object(a.useEffect)((function(){p.getMovieGenres().then((function(e){v(e)}))}),[]),Object(a.useEffect)((function(){p.getShowGenres().then((function(e){M(e)}))}),[]),Object(a.useEffect)((function(){p.getNumberOfPages().then((function(e){B(e)}))}),[]),Object(a.useEffect)((function(){0===D?(J(1),p.getTrendingMedia(1).then((function(e){j(e),console.log(e),F(!1)}))):p.getTrendingMedia(D).then((function(e){j(e),console.log(e),F(!1)}))}),[D]),Object(a.useEffect)((function(){null!==R&&p.filterMovieByGenre(R).then((function(e){console.log(e),j(e)}))}),[R]),Object(a.useEffect)((function(){null!==X&&p.filterShowByGenre(X).then((function(e){console.log(e),j(e)}))}),[X]);var ne=u.filter((function(e){return e.titleMovie||e.originalTitleMovie?(e.titleMovie||e.originalTitleMovie).toLocaleLowerCase().includes(T.toLocaleLowerCase())||(e.originalTitleMovie||e.originalTitleMovie).toLocaleLowerCase().includes(T.toLocaleLowerCase()):e.titleShow.toLocaleLowerCase().includes(T.toLocaleLowerCase())||e.originalTitleShow.toLocaleLowerCase().includes(T.toLocaleLowerCase())})),ae=function(e){L(e)},ie=function(){return ne.length<1?Object(o.jsx)("li",{children:Object(o.jsx)("p",{className:"warning_message",children:"Nothing matches your search"})}):ne.map((function(e){return Object(o.jsx)("li",{id:e.id,className:"media_list_item",children:Object(o.jsxs)(r.b,{className:"media_list_item_content",to:"/media/".concat(e.id),title:e.titleMovie?e.titleMovie:e.titleShow,children:[Object(o.jsx)("img",{className:"media_img",src:e.imagePath?n+e.imagePath:"https://via.placeholder.com/438x657/ff3b3b/000000/?text=TV",alt:e.titleMovie?e.titleMovie:e.titleShow}),Object(o.jsx)("div",{className:"media_info",children:Object(o.jsx)("h3",{className:"media_title",children:e.titleMovie?e.titleMovie:e.titleShow})})]})},e.id)}))},ce=function(e){return"movies"===e?g.map((function(t){return Object(o.jsx)("li",{className:"genres_list_item",children:Object(o.jsx)(N,{selectedMedia:e,genre:t,handleGenresFilter:oe})},t.id)})):"shows"===e?k.map((function(t){return Object(o.jsx)("li",{className:"genres_list_item",id:t.id,children:Object(o.jsx)(N,{selectedMedia:e,genre:t,handleGenresFilter:oe})},t.id)})):void 0},re=function(e){J(D+1)},se=function(e){J(D-1)},le=function(e){J(e)},oe=function(e,t){"movies"===t?q(e):"shows"===t&&Y(e)},de=Object(O.f)("/media/:id"),ue=null!==de?de.params.id:"",he=u.find((function(e){return e.id===parseInt(ue)}));return Object(o.jsxs)("div",{className:"page",children:[Object(o.jsx)(h,{handleAllMediaLink:function(){J(0),Y(null),q(null),te("")},handleMoviesLink:function(){q(""),Y(null),te("movies")},handleTVshowsLink:function(){Y(""),q(null),te("shows")}}),Object(o.jsxs)(O.c,{children:[Object(o.jsx)(O.a,{exact:!0,path:"/",children:Object(o.jsx)(f,{renderMedia:ie,handleSearch:ae,loading:I,pageNum:D,totalPages:V,handlePrevPage:se,handleNextPage:re,handlePageInput:le,handleGenresFilter:oe})}),Object(o.jsx)(O.a,{path:"/media/:id",children:Object(o.jsx)(x,{imagePath:n,media:he,whatGenre:function(e){return e.map((function(e){return g.find((function(t){return t.id===e}))||k.find((function(t){return t.id===e}))})).map((function(e){return e.name}))},selectedMedia:ee})}),Object(o.jsxs)(O.a,{exact:!0,path:"/movies",children:[Object(o.jsx)(_,{renderGenres:ce,selectedMedia:ee}),Object(o.jsx)(f,{renderMedia:ie,handleSearch:ae,loading:I,pageNum:D,totalPages:V,handlePrevPage:se,handleNextPage:re,handlePageInput:le,handleGenresFilter:oe})]}),Object(o.jsxs)(O.a,{exact:!0,path:"/TVshows",children:[Object(o.jsx)(_,{renderGenres:ce,selectedMedia:ee}),Object(o.jsx)(f,{renderMedia:ie,handleSearch:ae,loading:I,pageNum:D,totalPages:V,handlePrevPage:se,handleNextPage:re,handlePageInput:le,handleGenresFilter:oe})]})]}),Object(o.jsx)(d,{})]})};c.a.render(Object(o.jsx)(r.a,{children:Object(o.jsx)(w,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.0e69ec8b.chunk.js.map